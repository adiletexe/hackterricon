{% load static %}

<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- visit https://fonts.google.com/specimen/Courier+Prime?preview.text_type=custom to get script-->
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Courier+Prime&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{% static 'main.css' %}"></link>

  <script src='https://www.google.com/recaptcha/api.js?render={{recaptcha_site_key}}'></script>

</head>
<body>
  <ul class="sidenav">
    <li><a href="{% url 'index' %}">Back</a></li>
  </ul>

  <div class="div-container">


    <h3 id="map">Django Google Maps API Demo - Map</h3>

    <div class="container">

      <table>
        <thead>
          <tr>
            <th>Field</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Start</td>
            <td>{{directions.origin}}</td>
          </tr>
          <tr>
            <td>Destination</td>
            <td>{{directions.destination}}</td>
          </tr>
          <tr>
            <td>Duration</td>
            <td>{{directions.duration}}</td>
          </tr>
          <tr>
            <td>Distance</td>
            <td>{{directions.distance}}</td>
          </tr>
          <tr>
            <td>Directions</td>
            <td id="dir-toggle">click <a href="javascript:void(0)" onclick="DirectionsToggle()">here</a></td>
          </tr>

        </tbody>
      </table>

      <table id="dir-table" hidden>
        <thead>
          <tr>
            <th>Directions</th>
            <th>Distance</th>
            <th>Duration</th>
          </tr>
        </thead>
        <tbody>
          {% for dist, dur, text in directions.steps %}
          <tr>
            <td>{{text|safe}}</td>
            <td>{{dist}}</td>
            <td>{{dur}}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>

    </div>

    <div class="map-container">

       <div id="map-route"></div>


    </div>

  </div>

  <!--visit https://code.jquery.com/ for jquery script-->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>


<script type="text/javascript">

    var google_api_key = "{{google_api_key|safe}}";
    var lat_a = {{lat_a|safe}};
    var long_a = {{long_a|safe}};
    var lat_b = {{lat_a|safe}};
    var long_b = {{long_b|safe}};
    var origin = "{{origin|safe}}";
    var destination = "{{destination|safe}}";
    var directions = {{directions|safe}}

  </script>

  <script src="{% static 'google_maps.js' %}"></script>


<script src="{% static 'main.js' %}"></script>


</body>
</html>